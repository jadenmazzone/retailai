(this.webpackJsonpretailai=this.webpackJsonpretailai||[]).push([[0],{171:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAADp0lEQVR4nO2bvU4UURSAPzbBNZFALLU1Ig+gibrEztggUOgD+PMEUNgZSthOH4FSKxpCInb48wJgg0IjP5WWYuKuxb0byGbvMPdnduYM50tuc2HPfDNn5u7svfeAoiiKoiiKoiiKoiiKosQxCswAb4DPwDHw17Zj29cGWkCjIIemPcYB0C24HdhjXSroXHLTBBYxFzmv/KH9TDOxS9vDIVVbTnwOXswD+4TL7wNzCX2Gcef3t58J/XMzArwC/nnKDmodzF2UYlga9sXvtaEyAqwmEj/bVm3sGC5EApYSSQ9qryPdap+AecyQkSWzDjwDJoErtk0Cz+3fsj7bAWYj/Iq+QKUm4DLZX7jbwL0cce4DOxlx9gh/O6p1AhYzBD4A4x6xxoHNjHgLgY61TcAo7vf8bfwufo8J3E/CIWFvRbVNwIzjwB3yDTsuWo64XcxQ5UttE/DWceD1BLE3HLHbAbFEJCDk0b7t6H8XEKuf947+kCegtrjG/5sJYt9yxD4KiCXiCQjhxHHgsQSxxxyx/wTEEpGAoqaCQ6maT+GEnPBvR//1GBHLNc9jiickAd8d/dMxIpYHjv7dBLErSUgCthz9T2NELE8c/Z8TxK4NWT+YWhFxpzPihvzAE/ElHEIDMz0w6OAxUxHfHDF1KmIACxkCm5gLmpcJ4GNGPJ2MG0ATM1Xsktgh33A0jfvO7wI/0OloJ3OcvyCzAbwApjhdkJkCXuKe9+m1DvA4wq/2CQBdkiw9AbooX3ICQLellJ6AHrNkfzGf1/aIG/P7uTAbs87SxLw2un4nDGqH9jOptyaueDikaqVuTTxLA7OI0gY+YebzTzDTykeY6YwV+z9Fbs5dwdyVw7jzl6nA5lxFURRFURRFURRFURSlusQuergYBR4BD4E7wA3gqv3bL8zmri1gDfiCWQcoAymeualSpXwdPL2oWqW8dM/cVHVJUqqnF1VelJfo6c0S6U+q12K3pUj09KLqlfLSPL2QUCkvydMbCZXykjy9kFIpL8XTGymV8lI8vZFSKS/Cs86V8lI8vZFSKS/F0xsplfIiPEufy+ijaj4uknnWuVJehGedK+VFeNa5Ul6KpzdSKuWleHojpVJeimcQEirlJXl6I6FSXpJnEFWvlJfmGcTSOXIxTZckcyBlsVuKZxBStntI8QymapXy0j2DqFKlvAjPosavBnAXsyWkxemm1y5mwmoXU0G/BnylvE2vUjwVRVEURVEURVEURVGUGvAfZWSYGW90VL4AAAAASUVORK5CYII="},172:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAFNUlEQVR4nO2cz28VVRTHP+2Lr7TvQQKtoCywqYZiNMYoLlTENJgajImaaGTJj8QfCSp/gnHjRiIUiDsXGmMkIrLRuPBXBbUusdiYGA2tAYOgpm6gwNTFnZcUeefOzHv3zp1573ySmzbnvc753ntnzpz7q6AoiqIoiqIoiqIoiqJ0Cz2hBWRgBHgUeAjYAKwDVsSfzQOzwAxwHPgM+DWAxo6jAmzDNGoELKYsUfw3zwK9uavuELZg7ui0jS6VU8BYztpLzTLgLdpv+P+Xg0BfjvUoJUPAFO4bv1G+AwZzq03JGMKEC1+N3yjTaCdcxzLS3fmngf2YbGgUqMVlNLZNxN9J8yRoOFpCUsyfBbZjsqIkKsAOYC7hmodcVqDMbMHeUB9i7vKs1IEjlutGaHZEBfgJuZHeoL3BYg+w13L9abp8nLANuXGO4KZxeoAPLH6eceCjtBxHjvmthB2JOvI7YdKhn1Ixgjy9sN2Dv52CrwgY9uCv8LyInGqmyXayUsE8Wc18Pu/BXypCvoA2CfaPgase/F0FjmXU4p2QHXC7YP/Eo0/p2pIW74TsgHWC/TePPqU1AklLR3OJ5vG47tFnXfB50aNPK902CClcfUMK+lewr/Xo82bBPu/Rp5WQHTAr2Ec8+rxVsEtavBOyA2YE+2MefW4V7JKWjuYFijMQe86Dv8Jjm4rY4cHfLsFXBNziwV8pkCbj5nCbjtaB3wVfXzv0Uzps09FHcTcdfdji52kHPkpLBftC/F78LsicpIBjg7wZQ26gxsJMK+GoDnxkuW4EPNym9o7hEPZOmMPM56ddlN+FHPMbZcJpDUpOH2ariK3BGitlBzD5/AbMXV6Pf9+K2f0mpZpLywl0W8p1DGIWyZMar93yI7AqpzqVjkHSPQmtlhNo4yfSR/I7IWuJMDFfw04GxnATkk6i2U7L9GL27UyS/YDGJGaQVeg8v0xHlIa59ojSMLA8/mweM4k3A3yDOaJ0OneFLeBj1tE1NUw4GgfuBtZjXtYDQDX+zpX4Z19sXxv/PAtczlNsp7Aa2IMJI9LacZpyCTPZ9kp8TSWBTZi9Owu4T0EXMHuOgu0BKjKbMXeq70FYo3yFeZd0PWuAd8iW4bgsh2MNXclTwF+Eafil5QLwhOe6Fooq5pxXlrv+DPAe8BImG7oNWAncEJeVsW0ceDn+7tkM14+AN+NrdTR1TI6eplHOAfuAe9vwtxHT2X+m9Pkpbs8lFIpB0p+E3A30O/Tdj3l60kxVT9GBx1gHgG+xV3wBc7f63BvaD7yK2Qtq0/KDZx25UiU57JwC7shR053YDwcuYrayd8Q7YT/2ir6PeULypoZ9t8QiZkG/1DyOPds5SNjZyqRdExHwZDB1bbIGe55fpEXxA8g6zwM3hpPWOu9iDztFmqfvxR6O3g4nrTU2I4eeacLE/CTqyP8gKgIeCCctO9LE2kXyzXaychfy9PfnAXVl4n7kR/m1gLrS8jqy/gcD6krNMeQRrsvRrS9qyLvqjgbUlYrVyIspuwPqysoe5NH6UEBdiUjCz1GOu7/BAPIEXqFvpEmai94XUlSLTNC8Ll+EFGWjhpxB3BNQV6vch5zJFfJpHqe54DMhRbVBD/AHzev0iCsnLkejGwV7YR/ZBBaBL4XP2lkkugaXHbBesE859JE33wv2UVcOXHaAJOpnhz7yRtJeyA64SbD/4tBH3kjapf85kRmXHbBCsP/j0Efe/C3Ylwv2oEgpaNX2RwWnipyKKoqiKIqiKIqiKIqiKIqiKIqiKIqSyH/WsKnZvSfsqwAAAABJRU5ErkJggg=="},173:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAE/UlEQVR4nO2czY8URRTAf+sYdxNHQ4QQMBHXUQNePBkTET+WPRi8cJFIPIEcjFfhL/AsB0FBOOjJ+BER9GBCEFE+Yrwiup5UdtWDrpdlTVbiznh4Pdlxndcz1V3V1TX7fslLdnt33ud0dXW96gbDMAzDMAzDMAzDMAzDqJ5HgXeAn4GbQMez3Mx0vw08UklEiTABnATa+E+6Jm3gODBeQXy1Zhw4T3WJXy1ngduCR1ljjhIv+V15NXiUNeVhYJn4BVgCtgWOtZa8S/zkd+W9wLF6Yxq5YM4Ai4RJxhlgXQDf1wGfBvJ5EcnJCWBnAN95ALgQyPle+QvYGCKAjI2ZjdBxnAfu9+X048B8BU53gGO+nM7hWEWxzAPbyzp7H/B7RQ4vAw+WdXgIWsA/FcX0JzJ6FKbKOfrHZRx15HTAOFbLhaJOTlfoZAfYUdTRAuwIGEc/mSri5ElF2RLwCrC5iNIRZTNwEMlNv5y9VUTpD4qyg+X9HVkO0T9nM0WU3VCUbfLh6Yiyif45u6F9YCxHWafAZwzHvN0S0BFjCKwAkbnVo67QQ1YLeAZ4Alm93ALcmf1tAZhFLnaXkXX+Hz3ZjYY2p/X1/8PQAPYiSXXpmLWzzzxP9We5tzzELsA08o0uexP0HQVvhAqSfAEmkH6t77vRN6imB5x0ATYA3+ToKitfA+sdfXIl2QJsQIaLUMnvyjXCFiFaAcowwXDf/OvA68hsaCtweyZbs2NHsv8Z5kwINRwlWYBBY/4ssA+ZFQ2iAewH5gbofNNnAD0kV4BBy94fId9yV5rAqRy9bcLMjpIqQAP4PsfWa5S7kRsDDufov4b/+4SkCrA3x84p/CRnDPggx84eDzZ6SaoAlxUbsxQbdjSa6NeEix7toNioZQFa6MsL+zza6fKiYqsNTHq0k0wBXlb0X2e42Y4rDeTM6mfzJY92nPIWczlaa8KfQbao+GYZ+MTRl+DELMBDyvHPAtrUdGu+BCdmAbYox38KaFPrEWi+RCX0NeBvRX/To43VNBWbSx5tJHMNiEHt4o3pkLZV4+6ANrXNZAsBbeYSswCzyvFWQJvalnHNl+DELIC2W+zZgDZ3KccL7VzzQcwCXFKO7ybcjdhuR1+iEnMpYr9HO10OKLbawL0e7SSzFAH6YtwcfqejTeAXxdZXHu2g2KhtAfKWo0/jbzn6wxw7z3mw0UtSBWiQ34g/TNiGzFXWeEMGpC2o2eogjZkiw1ETeexJ09sGnirpez+SKwBIgzyvCHPIev6wTfkD6GN+V454jWCFJAswjmwVyUtYB7lhOorM57ch3/Jm9vMuZPebtubfK1ewbSn/Yz3SJB+UvLLyLXBXwDiSLQBIEYY5E4rKFcImnxzb8RQ5Ms7ga4KrtJExf6Q35/pmCj9D0lXCzHY0RqYAIHP0PcjWEdcHNC4iN1m1fkAjpackJ/nvI0qTwB3Z3xaQ3RQzyMLa2ez3GDjlLaUCpIJT3mrXoltrWAEik1cArWdrL+nQ0frZas85rwC/KcdfGNqdtYeWm1+LKDtB/+nUEvLGFDsTVhj0uprjRZTuVJSZuMvTbqlf4VwNnE9dvnDOeg+TVPfSvlGUeTy8vnI71b22cpTkD+CxAvnuSwv4vAZBpSLnkFd+DsR1WWEKeQPJk8A9hN3JnBKLSCfuEvA+8GVUbwzDMAzDMAzDMAzDMAzDMAzDMAyjNvwLctn+p3VWndQAAAAASUVORK5CYII="},174:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAADi0lEQVR4nO2dW04UQRRAj09cgvhhEN2EGomKtoiPBbgM2QSyAZFfXYEfxIiPVfj48pUAifIlKvBh8KNn4qTp6qluqvrW456kQtJTPX3vPdNV/WIGFEVRFEVRFEVRFEVRFMUNs8AK8AH4BewLtlVgwm+64XABeItswbOVcBnYQr7YWUo4B3xHvsjj2gvglKcaiPIa+eJmK2EW+aJmPRytUJ/kLvAQmOw5nuwkfKQ+wQWheLLbE7apT+60UDzZzQmmxEKLJ1kJsQhYbXgt6uEoFgEngecNr0e7J8QiABKVEJMASFBCbAIgMQkxCoCEJMQqABKRELMASEBCLAIO24KVkIuAfcqTNScccfVGmIvtchtt8C3fSV5HXbyJ0h0VIIwKEOa4dAAecTX3eJ1LdA8QRgUIowKEUQHCqABhchQwASwBG4O2RHkhLnpCuxZkYomDMS429I8lr2gC3eRgjJsN/b3mleMQVFe8v71HMSBHAU9rlj3rPQoPxDIETQCPgPVBW6R5EvaaV8j3A4rB35cd13dFaPc5jLj8pNwE/lA+2n7XSXTdiWXPdhbosPjD9aUlZCWgWvwQJGQjwFR8aQlZCBhXfEkJyQu4gV3xh22H/0dINhQt+1dJWsAM3b7CwHZPKDj80VSyAmaB3w3r7Qxa1z2hqKy/A9zqIS8x2gQ6g/mf+oaf8Dt0n5gLw3p7wD2PeYliG+gV7Io/pK0EU/G7SkhKwDHgXUNf07BSHU5M643rN9p/zmFeQWAb6BTwpaZf2zG97ZxR1/+2w7zEaRPoWeDTSJ/qsGPC9nzBttkMR0kKAJgGvtHtuL7tJ72p/y4w7zAvMboEep7ycLQtbcb6gvLws6uEpAUcBpujo9FhbZy0PeB+zXZUQAOmopqGtTlD/2H7CJyorKMCxlB3/6BpQjdJ+0o5L1VRARaM3kGzOZqqzgmm4oMKsKbtVc95SmGfKc9NTEjnZU00gY5Q0Fx88JxXyE9FhILXvHJ8MCsoVIAwKkAYFSCMSwHbhuV9f2GrS84Ylv90tQGXAjYMyx843EbfmGJf7zUKS55gvii2QFx7wiRlzLvU5/RYLjQz1zGftKTWrropmXvWkC+O7/bGWbU8MEUcP+DQtW1R3kQKmkuE/RMmXdsP4KLDOnllGniFfNFctTXKn2eJjmvAMvCe5oexQmvblM8vLRPwhKsoiqIoiqIoiqIoiqLExT+VutsyA86MwQAAAABJRU5ErkJggg=="},194:function(e,t,a){e.exports=a(363)},199:function(e,t,a){},201:function(e,t,a){},362:function(e,t,a){e.exports=a.p+"static/media/campaign-revenue.f94c54d8.png"},363:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(14),c=a.n(r),l=(a(199),a(18)),o=a.n(l),i=a(38),m=a(6),u=(a(201),a(39)),d=a(72),p=a.n(d),f=Object(n.createContext)();function g(e){var t=Object(n.useState)(),a=Object(m.a)(t,2),r=(a[0],a[1],Object(n.useState)(null)),c=Object(m.a)(r,2);c[0],c[1];return s.a.createElement(f.Provider,{value:{auth:[e.auth.isAuthenticated,e.auth.setAuthStatus],user:[e.auth.user,e.auth.setUser]}},e.children)}var E=function(e){console.log(e);var t=Object(n.useState)({}),a=Object(m.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!0),o=Object(m.a)(l,2);return o[0],o[1],Object(n.useEffect)((function(){console.log("under"),console.log(e.stats.last24Hours),c({labels:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],datasets:[{label:"# of visitors",data:e.stats.last24Hours,backgroundColor:["lightblue"],borderWidth:4}]})}),[e]),s.a.createElement("div",{style:{height:"23vh",width:"27vw"}},s.a.createElement(u.a,{data:r,options:{responsive:!0,title:{fontSize:16,text:"Total visitors",display:!0},scales:{yAxes:[{ticks:{autoSkip:!0,maxTicksLimit:10,beginAtZero:!0},gridLines:{display:!1}}],xAxes:[{gridLines:{display:!1}}]}}}))};var b=function(e){var t=Object(n.useState)({}),a=Object(m.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){!function(){console.log(e.timePeriod);c({labels:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],datasets:[{label:"# of visitors",data:e.stats.last30Days,backgroundColor:["rgba(255, 0, 0, .5)"],borderWidth:4}]})}()}),[]),s.a.createElement("div",{style:{height:"23vh",width:"27vw"}},s.a.createElement(u.a,{data:r,options:{responsive:!0,title:{fontSize:16,text:"Total visitors",display:!0},scales:{yAxes:[{ticks:{autoSkip:!0,maxTicksLimit:10,beginAtZero:!0},gridLines:{display:!1}}],xAxes:[{gridLines:{display:!1},time:{unit:"month"}}]}}}))};var v=function(e){console.log(e);var t=Object(n.useState)({}),a=Object(m.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!0),o=Object(m.a)(l,2);return o[0],o[1],Object(n.useEffect)((function(){console.log("under"),console.log(e.stats.last7Days),c({labels:[1,2,3,4,5,6,7],datasets:[{label:"# of visitors",data:e.stats.last7Days,backgroundColor:["rgba(75,192,192,.6)"],borderWidth:4}]})}),[e]),s.a.createElement("div",{style:{height:"23vh",width:"27vw"}},s.a.createElement(u.a,{data:r,options:{responsive:!0,title:{fontSize:16,text:"Total visitors",display:!0},scales:{yAxes:[{ticks:{autoSkip:!0,maxTicksLimit:10,beginAtZero:!0},gridLines:{display:!1}}],xAxes:[{gridLines:{display:!1}}]}}}))};var h=function(e){console.log(e);var t=Object(n.useState)({}),a=Object(m.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!0),o=Object(m.a)(l,2);return o[0],o[1],Object(n.useEffect)((function(){console.log("under"),console.log(e.stats.lastYear),c({labels:[1,2,3,4,5,6,7,8,9,10,11,12],datasets:[{label:"# of visitors",data:e.stats.lastYear,backgroundColor:["orange"],borderWidth:4}]})}),[e]),s.a.createElement("div",{style:{height:"23vh",width:"27vw"}},s.a.createElement(u.a,{data:r,options:{responsive:!0,title:{fontSize:16,text:"Total visitors",display:!0},scales:{yAxes:[{ticks:{autoSkip:!0,maxTicksLimit:10,beginAtZero:!0},gridLines:{display:!1}}],xAxes:[{gridLines:{display:!1}}]}}}))},A=function(e){console.log(e);var t=new Date,a=new Date(e+"UTC"),n=Math.abs(t-a);console.log(n);return console.log(Math.floor(n/36e5%24)),Math.floor(n/6e4)<60?Math.floor(n/6e4>1)?String(Math.floor(n/6e4))+" minutes ago":String(Math.floor(n/6e4))+" minute ago":Math.floor(n/36e5)<24?Math.floor(n/36e5)>1?String(Math.floor(n/36e5))+" hours ago":String(Math.floor(n/36e5))+" hour ago":Math.floor(n/864e5)>1?String(Math.floor(n/864e5))+" days ago":String(Math.floor(n/864e5))+" day ago"},w=function(e){return new Date(e+"UTC").toString()};var j=function(e){return s.a.createElement("div",{className:"overview-top-people-component"},s.a.createElement("div",{className:"top-people-img"},s.a.createElement("img",{src:e.imageURL,alt:e.personName})),s.a.createElement("div",{className:"top-people-info"},s.a.createElement("h2",null,e.personName),s.a.createElement("p",null,s.a.createElement("em",null,"Last seen ",A(e.lastVisited)))))};var y=function(e){return s.a.createElement("div",{className:"overview"},s.a.createElement("div",null,s.a.createElement("h2",null,"Summary"),s.a.createElement("ol",null,s.a.createElement("li",null,s.a.createElement("em",null,"People")," ",s.a.createElement("b",null,e.stats.totalUniqueVisitors)),s.a.createElement("li",null,s.a.createElement("em",null,"Visits "),s.a.createElement("b",null,e.stats.totalVisits)),s.a.createElement("li",null,s.a.createElement("em",null,"Blacklisted")," ",s.a.createElement("b",null,e.stats.totalBlacklisted)))),s.a.createElement("div",{className:"top-people"},s.a.createElement("h2",null,"Top people"),e.topPeople.map((function(e){return s.a.createElement(j,{key:e.personId,imageURL:e.imageURL,personName:e.personName,lastVisited:e.timestamp})}))))},O=a(424),N=a(433),k=a(177);var x=function(e){var t=Object(n.useState)("day"),a=Object(m.a)(t,2),r=a[0],c=a[1],l=Object(n.useContext)(f),o=l.auth,i=l.user,u=Object(m.a)(i,2),d=u[0],p=(u[1],Object(m.a)(o,2)),g=p[0];return p[1],console.log(k.a),s.a.createElement("div",{className:"dashboard-top-container"},g&&d&&s.a.createElement("h1",null,"Hello ",d.username),s.a.createElement("div",{className:"dashboard-graph-container"},s.a.createElement("div",{className:"dashboard-overview-graph"},s.a.createElement(N.a,{value:r,exclusive:!0,onChange:function(e,t){null!==t&&c(t)},"aria-label":"text alignment",className:"toggle"},s.a.createElement(O.a,{value:"day","aria-label":"left aligned"},"24 hrs"),s.a.createElement(O.a,{value:"week","aria-label":"left aligned"},"7 days"),s.a.createElement(O.a,{value:"month","aria-label":"centered"},"30 days"),s.a.createElement(O.a,{value:"year","aria-label":"right aligned"},"12 months")),s.a.createElement("div",{className:"dashboard-graph"},function(){switch(r){case"day":return s.a.createElement(E,{stats:e.stats});case"week":return s.a.createElement(v,{stats:e.stats});case"month":return s.a.createElement(b,{stats:e.stats});case"year":return s.a.createElement(h,{stats:e.stats});default:return null}}())),s.a.createElement("div",{className:"dashboard-overview-people"},s.a.createElement(y,{stats:e.stats,topPeople:e.topPeople}))))};var S=function(e){return s.a.createElement("li",{className:"alert-component red"},s.a.createElement("h3",null,e.name),s.a.createElement("p",null,s.a.createElement("em",null,"Spotted ",A(e.lastVisited))))};var I=function(e){var t=Object(n.useState)(e.notifications),a=Object(m.a)(t,2),r=a[0];return a[1],s.a.createElement("div",{className:"alert-container"},s.a.createElement("div",{className:"alert-container-2"},s.a.createElement("ul",null,r.map((function(e){return s.a.createElement(S,{key:e.personId+e.timestamp,name:e.personName,lastVisited:e.timestamp})})))))};var C=function(e){return s.a.createElement("div",{className:"customer-component"},s.a.createElement("div",{className:"customer-component-img"},s.a.createElement("img",{src:e.img,alt:"image"})),s.a.createElement("div",{className:"customer-component-information"},s.a.createElement("h3",null,s.a.createElement("b",null,e.name)),s.a.createElement("p",null,"Last Visited: ",s.a.createElement("b",null,w(e.lastVisited).slice(0,21))),s.a.createElement("p",null,"Blacklisted: ",s.a.createElement("b",null,e.blackListed?"true":"false"))))};var L=function(e){var t=e.people;return s.a.createElement("div",{className:"customers-container"},t.map((function(e){return s.a.createElement(C,{key:e.personId,img:e.imageURL,name:e.personName,lastVisited:e.timestamp,blackListed:e.blacklisted})})))},B=a(21);var P=function(){return s.a.createElement("nav",null,s.a.createElement("div",{className:"activity-container-header"},s.a.createElement("h2",null,"Activity")),s.a.createElement("div",{className:"activity-selection"},s.a.createElement(B.b,{exact:!0,to:"/",activeClassName:"activity-selected"},"Customers"),s.a.createElement(B.b,{to:"/blacklist",activeClassName:"activity-selected"},"Blacklisted")))},D=a(43);var z=function(e){console.log(e),console.log("above");var t=Object(n.useState)("customers"),a=Object(m.a)(t,2),r=(a[0],a[1],e.people),c=e.notifications;return s.a.createElement(B.a,null,s.a.createElement("div",{className:"activity-container"},s.a.createElement(P,null),s.a.createElement(D.c,{className:"activity-menu-labels"},s.a.createElement(D.a,{exact:!0,path:"/",render:function(e){return s.a.createElement(L,Object.assign({},e,{people:r}))}}),s.a.createElement(D.a,{path:"/blacklist",render:function(e){return s.a.createElement(I,Object.assign({},e,{notifications:c}))}}))))},R=a(170),U=a.n(R);var V=function(){return s.a.createElement(U.a,{className:"loading-bar",type:"bars",color:"lightblue",height:"20%",width:"20%"})};var Q=function(){var e="https://p9xcxvjfgf.execute-api.us-east-2.amazonaws.com/v1/dashboard",t="https://p9xcxvjfgf.execute-api.us-east-2.amazonaws.com/v1/persons?size=3&sort=most",a="https://cors-anywhere.herokuapp.com/",r=Object(n.useState)([]),c=Object(m.a)(r,2),l=c[0],o=c[1],i=Object(n.useState)({}),u=Object(m.a)(i,2),d=u[0],p=u[1],f=Object(n.useState)([]),g=Object(m.a)(f,2),E=g[0],b=g[1],v=Object(n.useState)([]),h=Object(m.a)(v,2),A=h[0],w=h[1],j=Object(n.useState)(!0),y=Object(m.a)(j,2),O=y[0],N=y[1];return Object(n.useEffect)((function(){fetch(a+e).then((function(e){return e.json()})).then((function(e){w(e.notifications),o(e.lastPersons),p(e.stats)})).catch((function(){return console.log("Can\u2019t access "+e+" response. Blocked by browser?")}))}),[]),Object(n.useEffect)((function(){fetch(a+t).then((function(e){return e.json()})).then((function(e){b(e.list),N(!1)})).catch((function(){return console.log("Can\u2019t access "+t+" response. Blocked by browser?")}))}),[]),O?s.a.createElement("div",{className:"loading-container"},s.a.createElement("div",{className:"loading-bar"},s.a.createElement(V,null))):s.a.createElement("div",{className:"dashboard-container"},s.a.createElement(x,{topPeople:E,stats:d,timePeriod:"day"}),s.a.createElement(z,{notifications:A,people:l}))},T=a(171),M=a.n(T),K=a(172),X=a.n(K),H=a(173),J=a.n(H),W=a(174),Y=a.n(W);var G=function(){return s.a.createElement("nav",{className:"side-bar-container"},s.a.createElement("div",{className:"user-img"},s.a.createElement("img",{src:p.a,alt:"Me"})),s.a.createElement("div",{className:"nav-links-1"},s.a.createElement("div",{className:"nav-links"},s.a.createElement(B.b,{to:"/",exact:!0,activeClassName:"selected"},s.a.createElement("img",{className:"nav",src:M.a,alt:"dashboard"})),s.a.createElement(B.b,{to:"/cameraview",activeClassName:"selected"},s.a.createElement("img",{src:J.a,alt:"Camera View"})),s.a.createElement(B.b,{className:"nav-link",to:"/faces",activeClassName:"selected"},s.a.createElement("img",{src:X.a,alt:"faces"})),s.a.createElement(B.b,{className:"nav-link",to:"/facerecognition",activeClassName:"selected"},s.a.createElement("img",{src:Y.a,alt:"upload image"})))))},F=a(47),q=a.n(F);var Z=function(e){var t=Object(n.useState)(e.name),a=Object(m.a)(t,2),r=a[0],c=a[1];return s.a.createElement("div",{className:"camera-component-container"},s.a.createElement("form",{onSubmit:function(t){t.preventDefault(),q.a.patch("https://cors-anywhere.herokuapp.com/https://p9xcxvjfgf.execute-api.us-east-2.amazonaws.com/v1/cameras",{cameraId:e.cameraId,cameraName:r}).then((function(e){alert("Updated!")})).catch((function(e){console.log(e)}))}},s.a.createElement("input",{type:"text",onChange:function(e){c(e.target.value)},value:r})),s.a.createElement("img",{src:e.imageURL,alt:"camera"}))};a(362);var _=function(){var e="https://p9xcxvjfgf.execute-api.us-east-2.amazonaws.com/v1/cameras",t=Object(n.useState)([]),a=Object(m.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!0),o=Object(m.a)(l,2),i=o[0],u=o[1];return Object(n.useEffect)((function(){fetch("https://cors-anywhere.herokuapp.com/"+e).then((function(e){return e.json()})).then((function(e){console.log(e),c(e.camerasList),u(!1)})).catch((function(){return console.log("Can\u2019t access "+e+" response. Blocked by browser?")}))}),[]),i?s.a.createElement(V,null):s.a.createElement("div",{className:"cameraview-container"},s.a.createElement("h1",null," Camera View"),s.a.createElement("div",{className:"cameraview-component-container"},r.map((function(e){return s.a.createElement(Z,{key:e.cameraId,cameraId:e.cameraId,name:e.cameraName,imageURL:e.lastImageURL})}))))},$=a(431),ee=a(430),te=a(432),ae=a(436),ne=a(427),se=a(428);var re=function(e){console.log(e);var t="https://p9xcxvjfgf.execute-api.us-east-2.amazonaws.com/v1/persons?personId=".concat(e.items.personId),a=Object(n.useState)([]),r=Object(m.a)(a,2),c=r[0],l=r[1],o=Object(n.useState)("default"),i=Object(m.a)(o,2),u=i[0],d=i[1],p=Object(n.useState)("default"),f=Object(m.a)(p,2),g=f[0],E=f[1],b=Object(n.useState)("false"),v=Object(m.a)(b,2),h=v[0],A=v[1],j=Object(n.useState)(!0),y=Object(m.a)(j,2),O=y[0],N=y[1],k=Object(n.useState)(!1),x=Object(m.a)(k,2),S=x[0],I=x[1];return Object(n.useEffect)((function(){"default"!=e.items.personId&&(N(!0),fetch("https://cors-anywhere.herokuapp.com/"+t).then((function(e){return e.json()})).then((function(t){console.log(t),l(t.detections),1===Object.keys(e.items).length&&(console.log("this is the one"),A(t.blacklisted?"true":"false"),E(t.detections[0].imageURL),d(t.personName)),N(!1),I(!1)})).catch((function(){return console.log("Can\u2019t access "+t+" response. Blocked by browser?")})))}),[e.items.personId]),Object(n.useEffect)((function(){1===Object.keys(e.items).length&&I(!0),console.log(e.items.personId),d(e.items.name),A(e.items.blacklisted?"true":"false"),E(e.items.img)}),[e]),S?s.a.createElement("div",{className:"loading-container"},s.a.createElement("div",{className:"loading-bar"},s.a.createElement(V,null))):s.a.createElement("div",{className:"face-display-container"},s.a.createElement("div",{className:"check"},s.a.createElement("div",{className:"face-display-inner"},s.a.createElement("div",{className:"face-display-appearances"},s.a.createElement("img",{src:g,alt:e.items.personId})),s.a.createElement("div",{className:"face-display-info"},s.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t,{name:u,blacklisted:"true"==h,personId:e.items.personId})}},s.a.createElement($.a,{inputProps:{style:{fontSize:30,color:"black"}},value:u,onChange:function(e){d(e.target.value)}}),s.a.createElement("div",{className:"radio-blacklist"},s.a.createElement(ne.a,{component:"legend"},"Blacklist status"),s.a.createElement(te.a,{"saria-label":"quiz",name:"quiz",value:h,onChange:function(e){console.log(e.target),A(e.target.value)}},s.a.createElement(ae.a,{value:"true",control:s.a.createElement(ee.a,null),label:"Yes"}),s.a.createElement(ae.a,{value:"false",control:s.a.createElement(ee.a,null),label:"No"}))),s.a.createElement(se.a,{style:{backgroundColor:"rgba(173,216,230, 0.2)",padding:"1% 2%",fontSize:"12px",color:"black",fontWeight:"500",marginLeft:"15%"},variant:"contained",type:"submit"},"submit"))))),s.a.createElement("h2",null,"Recognitions"),s.a.createElement("div",{className:"face-container"},s.a.createElement("div",{className:"face-container-2"},s.a.createElement("ul",null,s.a.createElement("li",{className:"fixed"},s.a.createElement("div",null,"Camera"),s.a.createElement("div",null,"Timestamp")),O?s.a.createElement("li",null,"loading..."):c.map((function(e){return s.a.createElement("li",{key:e.timestamp},s.a.createElement("div",null,e.cameraName),s.a.createElement("div",{className:"camera-wrap"},s.a.createElement("em",null,w(e.timestamp).slice(0,21))))}))))))};var ce=function(e){return s.a.createElement("div",{className:"customer-component customer-hover",onClick:function(){return e.onClick({name:e.name,lastVisited:e.lastVisited,img:e.img,blacklisted:e.blacklisted,personId:e.personId})}},s.a.createElement("div",{className:"customer-component-img"},s.a.createElement("img",{src:e.img,alt:"image"})),s.a.createElement("div",{className:"customer-component-information"},s.a.createElement("h3",null,s.a.createElement("b",null,e.name)),s.a.createElement("p",null,"Last Visited: ",s.a.createElement("b",null,w(e.lastVisited).slice(0,21))),s.a.createElement("p",null,"Blacklisted: ",s.a.createElement("b",null,e.blacklisted?"true":"false"))))},le=a(435),oe=a(429);var ie,me=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),l=Object(m.a)(c,2),o=(l[0],l[1],Object(n.useState)([])),i=Object(m.a)(o,2),u=(i[0],i[1],Object(n.useState)(0)),d=Object(m.a)(u,2),p=d[0],f=d[1],g=Object(n.useState)("mostVisited"),E=Object(m.a)(g,2),b=E[0],v=E[1],h=Object(n.useState)({name:"default",personId:"default",blacklisted:!0,img:"default"}),A=Object(m.a)(h,2),w=A[0],j=A[1],y="https://p9xcxvjfgf.execute-api.us-east-2.amazonaws.com/v1/persons?size=28&sort=recent",O="https://p9xcxvjfgf.execute-api.us-east-2.amazonaws.com/v1/persons?size=28&sort=most",N="https://cors-anywhere.herokuapp.com/",k=Object(n.useState)(!0),x=Object(m.a)(k,2),S=x[0],I=x[1];Object(n.useEffect)((function(){"mostVisited"!=b&&(console.log("most recent called"),I(!0),fetch(N+y).then((function(e){return e.json()})).then((function(e){r(e.list),I(!1)})).catch((function(){return console.log("Can\u2019t access "+y+" response. Blocked by browser?")})))}),[b]),Object(n.useEffect)((function(){"mostVisited"==b&&(console.log("most visited called"),I(!0),fetch(N+O).then((function(e){return e.json()})).then((function(e){r(e.list),I(!1)})).catch((function(){return console.log("Can\u2019t access "+O+" response. Blocked by browser?")})))}),[b]),Object(n.useEffect)((function(){0!==Object.keys(a).length&&(console.log(typeof a),j({personId:a[p].personId,key:a[p].personId,img:a[p].imageURL,name:a[p].personName,lastVisited:a[p].timestamp,blacklisted:a[p].blacklisted}))}),[a]);var C=function(e){j(e)};return S?s.a.createElement("div",{className:"loading-container"},s.a.createElement("div",{className:"loading-bar"},s.a.createElement(V,null))):s.a.createElement("div",{className:"face-container"},s.a.createElement(re,{handleSubmit:function(e,t){if(e.preventDefault(),t.name){console.log(typeof t.blacklisted);for(var n=[],s=0;s<a.length;s++)t.personId==a[s].personId?(console.log(t.blacklisted),n.push({personId:t.personId,imageURL:a[s].imageURL,blacklisted:t.blacklisted,timestamp:a[s].timestamp,personName:t.name}),f(s)):n.push(a[s]);r(n),q.a.patch("https://cors-anywhere.herokuapp.com/https://p9xcxvjfgf.execute-api.us-east-2.amazonaws.com/v1/persons",{personId:t.personId,blacklisted:t.blacklisted,personName:t.name}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}else alert("Please enter a valid name!")},items:w}),s.a.createElement("div",{className:"face-bottom-container"},s.a.createElement(oe.a,{className:"most-selector",value:b,onChange:function(e){v(e.target.value)}},s.a.createElement(le.a,{value:"mostVisited"},"Most Visited"),s.a.createElement(le.a,{value:"mostRecent"},"Most Recent")),s.a.createElement("div",{className:"customers-container"},a.map((function(e){return s.a.createElement(ce,{key:e.personId,personId:e.personId,img:e.imageURL,name:e.personName,lastVisited:e.timestamp,blacklisted:e.blacklisted,onClick:C})})))))},ue=a(29),de=a(9),pe=a(178),fe=(ie={display:"flex",justifyContent:"center",flex:1,fontSize:"40px"},Object(de.a)(ie,"display","flex"),Object(de.a)(ie,"flexDirection","column"),Object(de.a)(ie,"alignItems","center"),Object(de.a)(ie,"padding","20px"),Object(de.a)(ie,"borderWidth",2),Object(de.a)(ie,"borderRadius",2),Object(de.a)(ie,"borderColor","#eeeeee"),Object(de.a)(ie,"height","500px"),Object(de.a)(ie,"borderStyle","dashed"),Object(de.a)(ie,"backgroundColor","#fafafa"),Object(de.a)(ie,"color","#bdbdbd"),Object(de.a)(ie,"outline","none"),Object(de.a)(ie,"transition","border .24s ease-in-out"),ie),ge={borderColor:"#2196f3"},Ee={borderColor:"#00e676"},be={borderColor:"#ff1744"};var ve=function(e){var t=Object(n.useCallback)((function(t){console.log(t[0]),console.log("right above this"),e.handleChange(t[0])}),[]),a=Object(pe.a)({accept:"image/*",onDrop:t}),r=a.getRootProps,c=a.getInputProps,l=a.isDragActive,o=a.isDragAccept,i=a.isDragReject,m=Object(n.useMemo)((function(){return Object(ue.a)({},fe,{},l?ge:{},{},o?Ee:{},{},i?be:{})}),[l,i]);return s.a.createElement("div",{className:"container"},s.a.createElement("div",r({style:m}),s.a.createElement("input",c()),s.a.createElement("p",null,"Drop or click to select image ")))};var he=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),l=Object(m.a)(c,2),o=(l[0],l[1],Object(n.useState)({personId:"default"})),i=Object(m.a)(o,2),u=i[0],d=i[1],p=Object(n.useState)(!1),f=Object(m.a)(p,2),g=f[0],E=f[1],b=Object(n.useState)({display:"none"}),v=Object(m.a)(b,2),h=v[0],A=v[1];return s.a.createElement("div",{className:"facerecog-container"},s.a.createElement("div",{style:h},s.a.createElement(re,{handleSubmit:function(e,t){e.preventDefault(),q.a.patch("https://cors-anywhere.herokuapp.com/https://p9xcxvjfgf.execute-api.us-east-2.amazonaws.com/v1/persons",{personId:t.personId,blacklisted:t.blacklisted,personName:t.name}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},setLoading:E,items:u})),g?s.a.createElement("div",{className:"loading-container"},s.a.createElement("div",{className:"loading-bar"},s.a.createElement(V,null))):"notValid"==a?s.a.createElement("h1",{style:{display:"flex",justifyContent:"center",fontSize:"40px",color:"lightblue"}},"Sorry, that person was not found. Please try again!"):"noFace"===a?s.a.createElement("h1",{style:{display:"flex",justifyContent:"center",fontSize:"40px",color:"lightblue"}},"Sorry, no face was detected in the image. Please try again!"):void 0,s.a.createElement(ve,{handleChange:function(e){if(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){!function(e){A({display:"none"}),E(!0);var t=String(e);q.a.post("https://cors-anywhere.herokuapp.com/https://p9xcxvjfgf.execute-api.us-east-2.amazonaws.com/v1/search",{imageData:t}).then((function(e){console.log(e),"No face detected in image"==e.data?(E(!1),r("noFace")):"none"==e.data.personId?(E(!1),r("notValid")):"none"!==e.data.personId&&(r("valid"),E(!1),setTimeout((function(){d({personId:e.data.personId}),A({display:"block"})}),500))})).catch((function(e){console.log(e)}))}(t.result)}}}}))},Ae=a(40),we=a(26),je=a(60),ye=a(36),Oe=a(61);var Ne=function(e){return e.formerrors&&(e.formerrors.blankfield||e.formerrors.passwordmatch)?s.a.createElement("div",{className:"error container help is-danger"},s.a.createElement("div",{className:"row justify-content-center"},e.formerrors.passwordmatch?"Password value does not match confirm password value":""),s.a.createElement("div",{className:"row justify-content-center help is-danger"},e.formerrors.blankfield?"All fields are required":"")):e.apierrors?s.a.createElement("div",{className:"error container help is-danger"},s.a.createElement("div",{className:"row justify-content-center"},e.apierrors)):e.formerrors&&e.formerrors.cognito?s.a.createElement("div",{className:"error container help is-danger"},s.a.createElement("div",{className:"row justify-content-center"},e.formerrors.cognito.message)):s.a.createElement("div",null)};var ke=function(e,t){for(var a=document.getElementsByClassName("is-danger"),n=0;n<a.length;n++)a[n].classList.contains("error")||a[n].classList.remove("is-danger");return t.hasOwnProperty("username")&&""===t.username?(document.getElementById("username").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("firstname")&&""===t.firstname?(document.getElementById("firstname").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("lastname")&&""===t.lastname?(document.getElementById("lastname").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("email")&&""===t.email?(document.getElementById("email").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("verificationcode")&&""===t.verificationcode?(document.getElementById("verificationcode").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("password")&&""===t.password?(document.getElementById("password").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("oldpassword")&&""===t.oldpassword?(document.getElementById("oldpassword").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("newpassword")&&""===t.newpassword?(document.getElementById("newpassword").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("confirmpassword")&&""===t.confirmpassword?(document.getElementById("confirmpassword").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("password")&&t.hasOwnProperty("confirmpassword")&&t.password!==t.confirmpassword?(document.getElementById("password").classList.add("is-danger"),document.getElementById("confirmpassword").classList.add("is-danger"),{passwordmatch:!0}):t.hasOwnProperty("newpassword")&&t.hasOwnProperty("confirmpassword")&&t.newpassword!==t.confirmpassword?(document.getElementById("newpassword").classList.add("is-danger"),document.getElementById("confirmpassword").classList.add("is-danger"),{passwordmatch:!0}):void 0};function xe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Se=function(e){Object(Oe.a)(n,e);var t,a=(t=n,function(){var e,a=Object(ye.a)(t);if(xe()){var n=Object(ye.a)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return Object(je.a)(this,e)});function n(){var e;Object(Ae.a)(this,n);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={oldpassword:"",newpassword:"",confirmpassword:"",errors:{cognito:null,blankfield:!1,passwordmatch:!1}},e.clearErrorState=function(){e.setState({errors:{cognito:null,blankfield:!1,passwordmatch:!1}})},e.handleSubmit=function(){var t=Object(i.a)(o.a.mark((function t(a){var n,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.clearErrorState(),(n=ke(a,e.state))&&e.setState({errors:Object(ue.a)({},e.state.errors,{},n)}),t.prev=4,t.next=7,k.a.currentAuthenticatedUser();case 7:return s=t.sent,console.log(s),console.log("sdfsdafasdasdff"),t.next=12,k.a.changePassword(s,e.state.oldpassword,e.state.newpassword);case 12:alert("Password changed!"),t.next=21;break;case 15:t.prev=15,t.t0=t.catch(4),r=null,r=t.t0.message?t.t0:{message:t.t0},e.setState({errors:Object(ue.a)({},e.state.errors,{cognito:r})}),console.log(r);case 21:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState(Object(de.a)({},t.target.id,t.target.value)),document.getElementById(t.target.id).classList.remove("is-danger")},e}return Object(we.a)(n,[{key:"render",value:function(){return s.a.createElement("section",{className:"section auth"},s.a.createElement("div",{className:"container"},s.a.createElement("h1",null,"Change Password"),s.a.createElement(Ne,{formerrors:this.state.errors}),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"password",id:"oldpassword",placeholder:"Old password",value:this.state.oldpassword,onChange:this.onInputChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"password",id:"newpassword",placeholder:"New password",value:this.state.newpassword,onChange:this.onInputChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"password",id:"confirmpassword",placeholder:"Confirm password",value:this.state.confirmpassword,onChange:this.onInputChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control"},s.a.createElement("a",{href:"/forgotpassword"},"Forgot password?"))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control"},s.a.createElement("button",{className:"button is-success"},"Change password"))))))}}]),n}(n.Component);function Ie(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ce=function(e){Object(Oe.a)(n,e);var t,a=(t=n,function(){var e,a=Object(ye.a)(t);if(Ie()){var n=Object(ye.a)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return Object(je.a)(this,e)});function n(){var e;Object(Ae.a)(this,n);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={changePassword:!1,username:"",password:"",errors:{cognito:null,blankfield:!1}},e.setChangePassword=function(t){e.setState({changePassword:t})},e.clearErrorState=function(){e.setState({errors:{cognito:null,blankfield:!1}})},e.handleSubmit=function(){var t=Object(i.a)(o.a.mark((function t(a){var n,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),console.log("clicked"),e.clearErrorState(),(n=ke(a,e.state))&&e.setState({errors:Object(ue.a)({},e.state.errors,{},n)}),t.prev=5,t.next=8,k.a.signIn(e.state.username,e.state.password);case 8:s=t.sent,console.log(s),s.challengeName,e.props.auth.setAuthStatus(!0),e.props.auth.setUser(s),t.next=19;break;case 13:t.prev=13,t.t0=t.catch(5),console.log(t.t0),r=null,r=t.t0.message?t.t0:{message:t.t0},e.setState({errors:Object(ue.a)({},e.state.errors,{cognito:r})});case 19:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState(Object(de.a)({},t.target.id,t.target.value)),document.getElementById(t.target.id).classList.remove("is-danger")},e}return Object(we.a)(n,[{key:"render",value:function(){return s.a.createElement("section",{className:"section auth"},s.a.createElement("div",{className:"container"},s.a.createElement("h1",null,"Hello"),s.a.createElement(Ne,{formerrors:this.state.errors}),s.a.createElement("form",{class:"login-form",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control"},s.a.createElement("label",null,s.a.createElement("b",null,"Username/Email"),s.a.createElement("input",{className:"input",type:"text",id:"username","aria-describedby":"usernameHelp",value:this.state.username,onChange:this.onInputChange})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("label",null,s.a.createElement("b",null,"Password"),s.a.createElement("input",{className:"input",type:"password",id:"password",value:this.state.password,onChange:this.onInputChange})),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control"},s.a.createElement("button",{className:"button is-success"},"Login")))),this.state.changePassword&&s.a.createElement(Se,null)))}}]),n}(n.Component);function Le(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.Component;var Be=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),l=Object(m.a)(c,2),u=l[0],d=l[1],p=Object(n.useState)(!0),f=Object(m.a)(p,2),E=f[0],b=f[1];Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("this deffff"),e.next=4,k.a.currentSession();case 4:return t=e.sent,r(!0),console.log(t),e.next=9,k.a.currentAuthenticatedUser();case 9:a=e.sent,console.log(a),console.log("right abooooove"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),"No current user"===e.t0&&r(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}console.log("app"),function(){e.apply(this,arguments)}(),b(!1)}),[]);var v={isAuthenticated:a,user:u,setAuthStatus:r,setUser:d};return a?!E&&s.a.createElement(g,{auth:v},s.a.createElement(B.a,null,s.a.createElement("div",{className:"app"},s.a.createElement("div",{className:"side-bar"},s.a.createElement(G,null)),s.a.createElement("div",{className:"page"},s.a.createElement(D.c,null,s.a.createElement(D.a,{exact:!0,path:"/",render:function(e){return s.a.createElement(Q,Object.assign({},e,{auth:v}))}}),s.a.createElement(D.a,{path:"/cameraview",render:function(e){return s.a.createElement(_,Object.assign({},e,{auth:v}))}}),s.a.createElement(D.a,{path:"/faces",render:function(e){return s.a.createElement(me,Object.assign({},e,{auth:v}))}}),s.a.createElement(D.a,{path:"/facerecognition",render:function(e){return s.a.createElement(he,Object.assign({},e,{auth:v}))}})))))):s.a.createElement(Ce,{auth:v})},Pe=a(92),De=a(37);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));De.default.configure({Auth:{mandatorySignId:!0,region:Pe.cognito.REGION,userPoolId:Pe.cognito.USER_POOL_ID,userPoolWebClientId:Pe.cognito.APP_CLIENT_ID}}),c.a.render(s.a.createElement(Be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},72:function(e,t,a){e.exports=a.p+"static/media/pictureOfMe.b8e2baf6.jpg"},92:function(e){e.exports=JSON.parse('{"cognito":{"REGION":"us-east-2","USER_POOL_ID":"us-east-2_6zQQQhd9Y","APP_CLIENT_ID":"5tvaku2v186lcekdu91b3gqi0c"}}')}},[[194,1,2]]]);
//# sourceMappingURL=main.07fa738c.chunk.js.map